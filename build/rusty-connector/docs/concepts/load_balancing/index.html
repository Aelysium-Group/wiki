<!doctype html>
<html lang="en-US" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-rusty-connector/docs/concepts/load_balancing">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">â¤µï¸ Load Balancing | Aelysium Wiki</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://wiki.aelysium.group/images/og-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://wiki.aelysium.group/images/og-social-card.jpg"><meta data-rh="true" property="og:url" content="https://wiki.aelysium.group/rusty-connector/docs/concepts/load_balancing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="â¤µï¸ Load Balancing | Aelysium Wiki"><meta data-rh="true" name="description" content="Load balancing is how  decide which MCLoaders to send players to."><meta data-rh="true" property="og:description" content="Load balancing is how  decide which MCLoaders to send players to."><link data-rh="true" rel="icon" href="/images/favicon.ico"><link data-rh="true" rel="canonical" href="https://wiki.aelysium.group/rusty-connector/docs/concepts/load_balancing"><link data-rh="true" rel="alternate" href="https://wiki.aelysium.group/rusty-connector/docs/concepts/load_balancing" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://wiki.aelysium.group/rusty-connector/docs/concepts/load_balancing" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.b44974d0.css">
<link rel="preload" href="/assets/js/runtime~main.fb3405e0.js" as="script">
<link rel="preload" href="/assets/js/main.ab42f3d2.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/aelysium-logo.png" alt="Aelysium Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/images/aelysium-logo.png" alt="Aelysium Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Aelysium</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rusty-connector/">RustyConnector</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/rusty-connector/docs/concepts/load_balancing" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en-US">English</a></li><li><a href="https://github.com/Aelysium-Group/wiki" target="_blank" rel="noopener noreferrer" class="dropdown__link">ğŸ’– Help us translate</a></li></ul></div><a href="https://github.com/Aelysium-Group" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rusty-connector/">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/rusty-connector/docs/installation">Docs</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/installation">ğŸ“– Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/the_law">ğŸ“œ The Law</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/commands">âš™ï¸ Commands</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/permissions">ğŸ“Œ Permissions</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" tabindex="0" href="/rusty-connector/docs/concepts/families/">ğŸ“– Concepts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/rusty-connector/docs/concepts/families/">â˜ï¸ Families</a><button aria-label="Toggle the collapsible sidebar category &#x27;â˜ï¸ Families&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/concepts/whitelist">ğŸ‘® Whitelist</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/concepts/discord-webhooks">ğŸ”– Discord Webhooks</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/concepts/liquid_timestamps">ğŸŒŠ Liquid Timestamp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rusty-connector/docs/concepts/load_balancing">â¤µï¸ Load Balancing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/concepts/loader">ğŸ“¦ MCLoaders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rusty-connector/docs/concepts/redis">ğŸŸ¥ Redis</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/rusty-connector/docs/updating/">âš’ï¸ Config Updating</a><button aria-label="Toggle the collapsible sidebar category &#x27;âš’ï¸ Config Updating&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rusty-connector/lang/installation">Lang</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/rusty-connector/toolkit/installation">Toolkit</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Docs</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">ğŸ“– Concepts</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">â¤µï¸ Load Balancing</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>â¤µï¸ Load Balancing</h1><p>Load balancing is how <a style="text-decoration:none;display:inline-block;padding:0px 8px 0px 5px;border-radius:20px;backdrop-filter:invert(0.1);&amp;:hover:[object Object]" href="/rusty-connector/docs/undefined" title="A link to the families page"><span style="padding-right:2px">â˜ï¸</span><span>Families</span></a> decide which MCLoaders to send players to.
By utilizing Load Balancers properly, you&#x27;ll be able to properly <a style="text-decoration:none;display:inline-block;padding:0px 8px 0px 5px;border-radius:20px;backdrop-filter:invert(0.1);&amp;:hover:[object Object]" href="/rusty-connector/docs/the_law" title="A reference to the RC law: Think in Terms of Families"><span style="padding-right:2px">ğŸ“œ</span><span>Think in Terms of Families</span></a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="algorithm">Algorithm<a href="#algorithm" class="hash-link" aria-label="Direct link to Algorithm" title="Direct link to Algorithm">â€‹</a></h2><p>Every family in RustyConnector can have its own dedicated load balancer.
By default, the load balancer will use the <a href="https://www.nginx.com/resources/glossary/round-robin-load-balancing/" target="_blank" rel="noopener noreferrer">Round Robin Algorithm</a> however you can also use a few other algorithms if you&#x27;d like instead.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Round Robin</summary><div><div class="collapsibleContent_i85q"><p>All Loaders are placed into a queue based on the order they get registered in.<br>Every time a connection occurs, the connection will be routed to the current Loader in the queue and the queue will iterate to the next Loader. Once the load balancer reaches the end of the Loader queue, the load balancer will loop back to the beginning and start again.</p></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Most Connection</summary><div><div class="collapsibleContent_i85q"><p>Connects players to the Loader with the most players currently connected. This mode is best if you want to fill Loaders up as quickly as possible.</p></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Least Connection</summary><div><div class="collapsibleContent_i85q"><p>Connects players to the Loader with the fewest players currently connected. This mode is best if you want evenly distributed players across all Loaders.</p></div></div></details><p>Additionally, you can set your algorithm to consider weighted values when it sorts. When the load balancer is weighted you can set the <code>weight</code> value in RC-Paper&#x27;s <code>config.yml</code> to cause specific servers to gain priority over others.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="weight">Weight<a href="#weight" class="hash-link" aria-label="Direct link to Weight" title="Direct link to Weight">â€‹</a></h2><p>Weight is an attribute you define on your individual MCLoaders. It allows some Loaders to have priority over other loaders.
This setting is great for if you have some Loaders which are running on more powerful machines and can handler more players.</p><p>When setting up weight, you must make sure you specifically enable the <code>weighted</code> toggle in your Load Balancer config.</p><p>Read below to see how the differnt algorithms work when they&#x27;re weighted.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Weighted Round Robin</summary><div><div class="collapsibleContent_i85q"><p>All Loaders are placed into a queue based on the order they get registered in. Loaders are then sorted in descending order based on weight level.<br>Every time a connection occurs, the connection will be routed to the current Loader in the queue and the queue will iterate to the next Loader. Once the load balancer reaches the end of the Loader queue, the load balancer will loop back to the beginning and start again.</p></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Weighted Most Connection</summary><div><div class="collapsibleContent_i85q"><p>Connects players to the Loader with the highest weight and most players currently connected. This mode is best if you want to fill Loaders up as quickly as possible.</p></div></div></details><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Weighted Least Connection</summary><div><div class="collapsibleContent_i85q"><p>Connects players to the Loader with the highest weight and least players currently connected. This mode is best if you want evenly distributed players across all Loaders.</p></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="persistence">Persistence<a href="#persistence" class="hash-link" aria-label="Direct link to Persistence" title="Direct link to Persistence">â€‹</a></h2><p>Persistence is a feature that will cause the Proxy to attempt to connect a player to a specific family multiple times before giving up. Consider the following family layout:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">algorithm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> LEAST_CONNECTION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">weighted</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">persistence</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">attempts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 1. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">VIP</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">whitelist</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25565) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">20 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> &lt;&lt;&lt;&lt;&lt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 2. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PrimaryLoader1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25566) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">40 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 3. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PrimaryLoader2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25567) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">45 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 4. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">BackupLoader1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25568) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">3 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_S0QG"><p>That was probably a little confusing to look at. For a full breakdown of what all the data means you can read <a href="#reading-the-load-balancer-in-the-console">this snippet</a>.</p></div></div><p>In the example above, we have four servers registered to a family with a Least Connection Algorithm.
One of the servers has its own whitelist allowing only VIP players to join it.
Additionally, all servers have a soft-cap of <code>40</code> and a hard-cap of <code>50</code>. Servers 2 and 3 are both maxed out for regular players.</p><p>If a player were to attempt to join this family here&#x27;s a step by step of what would happen:</p><ol><li>Player attempts to connect to <code>VIP-whitelist</code> connection fails.
Persistence kicks in. One attempt has been used. Persistence cause&#x27;s the player&#x27;s connection to now operate via Round Robin algorithm (this way it will always attempt to connect to a different server until its attempts are used up)</li><li>Player attempts to connect to PrimaryLoader1. Connection fails. Second attempt has been used.</li><li>Player attempts to connect to PrimaryLoader2. Connection fails. Third attempt has been used.</li><li>Player attempts to connect to BackupLoader1. Connection succeeds. Persistence shut&#x27;s off.</li><li>Family insertion point returns to original position.</li></ol><p>The whole operation happens in a split second and will go unnoticed by your end-users.
This system is particularly useful for music events when you want to have VIP, such as artists and sponsors, auto-route to a VIP server. You can weight the VIP server to be at the top of the family queue and enable persistence. Any players that join the family will automatically bounce over the VIP server and fall into one of the public servers.</p><p>If a player runs out of persistence attempts before they can be connected to a server; their attempt to connect to the specific family will fail.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reading-the-load-balancer-in-the-console">Reading the load balancer in the console<a href="#reading-the-load-balancer-in-the-console" class="hash-link" aria-label="Direct link to Reading the load balancer in the console" title="Direct link to Reading the load balancer in the console">â€‹</a></h2><p>The messages in the load balancer console can be cryptic. Consider the following:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 1. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">VIP</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">whitelist</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25565) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">20 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1000</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> &lt;&lt;&lt;&lt;&lt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 2. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PrimaryLoader1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25566) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">40 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 3. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PrimaryLoader2</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25567) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">45 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 4. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">BackupLoader1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">(127.0.0.1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">25568) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">3 (40 &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> 50) w</span><span class="token punctuation" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Not much is very clear to the human eye. These messages have been written to compress as much useful information together as we can. Because of this let&#x27;s look at another version that shows what each data point represents:</p><div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 1. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> name </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">( address ) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">count (player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">soft</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cap &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hard</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cap) weight</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> &lt;&lt;&lt;&lt;&lt; insertion</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">point</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">---</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> 2. </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> loader</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">name </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">( address ) </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">count (player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">soft</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cap &lt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> player</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">hard</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cap) weight</span><span class="token punctuation" style="color:#393A34">]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ul><li><code>name</code> | Represents the Loader name set in the MCLoader&#x27;s <code>config.yml</code>.</li><li><code>address</code> | Represents the Loader address set in the MCLoader&#x27;s <code>config.yml</code></li><li><code>player-count</code> | Represents the current player count on this Loader.</li><li><code>player-soft-cap</code> | Represents the soft cap of this Loader, set in the MCLoader&#x27;s <code>config.yml</code></li><li><code>player-hard-cap</code> | Represents the hard cap of this Loader, set in the MCLoader&#x27;s <code>config.yml</code></li><li><code>weight</code> | Represents the weight level of this Loader, set in the MCLoader&#x27;s <code>config.yml</code></li><li><code>insertion-point</code> | Shows which Loader a player will attempt to connect to first if they joined that family at that specific moment in time.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Aelysium-Group/wiki/docs/rusty-connector/docs/concepts/load_balancing.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rusty-connector/docs/concepts/liquid_timestamps"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">ğŸŒŠ Liquid Timestamp</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rusty-connector/docs/concepts/loader"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ğŸ“¦ MCLoaders</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#algorithm" class="table-of-contents__link toc-highlight">Algorithm</a></li><li><a href="#weight" class="table-of-contents__link toc-highlight">Weight</a></li><li><a href="#persistence" class="table-of-contents__link toc-highlight">Persistence</a></li><li><a href="#reading-the-load-balancer-in-the-console" class="table-of-contents__link toc-highlight">Reading the load balancer in the console</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.aelysium.group" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/Aelysium-Group" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2024 Â© Aelysium</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fb3405e0.js"></script>
<script src="/assets/js/main.ab42f3d2.js"></script>
</body>
</html>